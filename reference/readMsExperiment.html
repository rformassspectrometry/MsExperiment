<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import MS spectra data of an experiment — readMsExperiment • MsExperiment</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import MS spectra data of an experiment — readMsExperiment"><meta name="description" content="Read/import MS spectra data of an experiment from the respective (raw)
data files into an MsExperiment() object. Files provided with the
spectraFiles parameter are imported as a Spectra object and each
file is automatically linked to rows (samples) of a sampleData
data frame (if provided)."><meta property="og:description" content="Read/import MS spectra data of an experiment from the respective (raw)
data files into an MsExperiment() object. Files provided with the
spectraFiles parameter are imported as a Spectra object and each
file is automatically linked to rows (samples) of a sampleData
data frame (if provided)."><meta property="og:image" content="https://rformassspectrometry.github.io/MsExperiment/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MsExperiment</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MsExperiment.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/MsExperiment/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import MS spectra data of an experiment</h1>
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/MsExperiment/blob/main/R/MsExperiment-functions.R" class="external-link"><code>R/MsExperiment-functions.R</code></a></small>
      <div class="d-none name"><code>readMsExperiment.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Read/import MS spectra data of an experiment from the respective (raw)
data files into an <code><a href="MsExperiment.html">MsExperiment()</a></code> object. Files provided with the
<code>spectraFiles</code> parameter are imported as a <code>Spectra</code> object and each
file is automatically <em>linked</em> to rows (samples) of a <code>sampleData</code>
data frame (if provided).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">readMsExperiment</span><span class="op">(</span>spectraFiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>, sampleData <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-spectrafiles">spectraFiles<a class="anchor" aria-label="anchor" href="#arg-spectrafiles"></a></dt>
<dd><p><code>character</code> with the (absolute) file names of the MS
data files that should be imported as a <code><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra::Spectra()</a></code> object.</p></dd>


<dt id="arg-sampledata">sampleData<a class="anchor" aria-label="anchor" href="#arg-sampledata"></a></dt>
<dd><p><code>data.frame</code> or <code>DataFrame</code> with the sample annotations.
Each row is expected to contain annotations for one file (sample). The
order of the data frame's rows is expected to match the order of the
provided files (with parameter <code>spectraFiles</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional parameters for the <code><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra::Spectra()</a></code> call to
import the data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>MsExperiment</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Johannes Rainer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Define the files of the experiment to import</span></span></span>
<span class="r-in"><span><span class="va">fls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"microtofq/MM14.mzML"</span>, package <span class="op">=</span> <span class="st">"msdata"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"microtofq/MM8.mzML"</span>, package <span class="op">=</span> <span class="st">"msdata"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Define a data frame with some sample annotations</span></span></span>
<span class="r-in"><span><span class="va">ann</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    injection_index <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>    sample_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MM14"</span>, <span class="st">"MM8"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Import the data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/MsExperiment" class="external-link">MsExperiment</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mse</span> <span class="op">&lt;-</span> <span class="fu">readMsExperiment</span><span class="op">(</span>spectraFiles <span class="op">=</span> <span class="va">fls</span>, <span class="va">ann</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mse</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object of class MsExperiment </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Spectra: MS1 (310) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Experiment data: 2 sample(s)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample data links:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - spectra: 2 sample(s) to 310 element(s).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Access the spectra data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">spectra</a></span><span class="op">(</span><span class="va">mse</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSn data (Spectra) with 310 spectra in a MsBackendMzR backend:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msLevel     rtime scanIndex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           1   270.334         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           1   270.671         2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           1   271.007         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           1   271.343         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           1   271.680         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...       ...       ...       ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 306         1   65.4360       194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 307         1   65.7720       195</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 308         1   66.1092       196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 309         1   66.4458       197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 310         1   66.7818       198</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ... 33 more variables/columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> file(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MM14.mzML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MM8.mzML</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Access the sample annotations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="MsExperiment.html">sampleData</a></span><span class="op">(</span><span class="va">mse</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DataFrame with 2 rows and 3 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   injection_index   sample_id spectraOrigin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;integer&gt; &lt;character&gt;   &lt;character&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               1        MM14 /__w/_temp...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2               2         MM8 /__w/_temp...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Import the data reading all MS spectra directly into memory</span></span></span>
<span class="r-in"><span><span class="va">mse</span> <span class="op">&lt;-</span> <span class="fu">readMsExperiment</span><span class="op">(</span>spectraFiles <span class="op">=</span> <span class="va">fls</span>, <span class="va">ann</span>,</span></span>
<span class="r-in"><span>    backend <span class="op">=</span> <span class="fu">Spectra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/MsBackend.html" class="external-link">MsBackendMemory</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mse</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object of class MsExperiment </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Spectra: MS1 (310) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Experiment data: 2 sample(s)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample data links:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - spectra: 2 sample(s) to 310 element(s).</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

